# Шаблон PROJECT.md

Шаблон для `.planning/PROJECT.md` — живой документ контекста проекта.

<template>

```markdown
# [Название проекта]

## Что это

[Текущее точное описание — 2-3 предложения. Что делает этот продукт и для кого?
Используйте формулировки пользователя. Обновляйте, когда реальность расходится с описанием.]

## Основная ценность

[ТА ЕДИНСТВЕННАЯ вещь, которая важнее всего. Если всё остальное откажет, это должно работать.
Одно предложение, определяющее приоритеты при компромиссах.]

## Требования

### Подтверждённые

<!-- Выпущены и подтверждена ценность. -->

(Пока нет — выпускайте для подтверждения)

### Активные

<!-- Текущий объём. Строим к этим целям. -->

- [ ] [Требование 1]
- [ ] [Требование 2]
- [ ] [Требование 3]

### За пределами

<!-- Явные границы. Включают обоснование для предотвращения повторного добавления. -->

- [Исключение 1] — [почему]
- [Исключение 2] — [почему]

## Контекст

[Справочная информация, влияющая на реализацию:
- Техническая среда или экосистема
- Релевантная предыдущая работа или опыт
- Результаты исследований пользователей или темы обратной связи
- Известные проблемы для решения]

## Ограничения

- **[Тип]**: [Что] — [Почему]
- **[Тип]**: [Что] — [Почему]

Распространённые типы: Технологический стек, Сроки, Бюджет, Зависимости, Совместимость, Производительность, Безопасность

## Ключевые решения

<!-- Решения, ограничивающие будущую работу. Добавляйте на протяжении жизненного цикла проекта. -->

| Решение | Обоснование | Результат |
|---------|-------------|----------|
| [Выбор] | [Почему] | [✓ Хорошо / ⚠️ Пересмотреть / — Ожидает] |

---
*Последнее обновление: [дата] после [причина]*
```

</template>

<guidelines>

**Что это:**
- Текущее точное описание продукта
- 2-3 предложения, описывающие что он делает и для кого
- Используйте слова и формулировки пользователя
- Обновляйте, когда продукт выходит за рамки этого описания

**Основная ценность:**
- Единственная самая важная вещь
- Всё остальное может отказать; это — нет
- Определяет приоритеты при компромиссах
- Редко меняется; если меняется — это значительный разворот

**Требования — Подтверждённые:**
- Требования, которые выпущены и доказали свою ценность
- Формат: `- ✓ [Требование] — [версия/фаза]`
- Заблокированы — изменение требует явного обсуждения

**Требования — Активные:**
- Текущий объём для разработки
- Это гипотезы до выпуска и подтверждения
- Переносятся в Подтверждённые при выпуске, в За пределами при опровержении

**Требования — За пределами:**
- Явные границы того, что мы не строим
- Всегда включают обоснование (предотвращает повторное добавление)
- Включает: рассмотренное и отклонённое, отложенное, явно исключённое

**Контекст:**
- Справочная информация, влияющая на решения по реализации
- Техническая среда, предыдущая работа, обратная связь пользователей
- Известные проблемы или технический долг для решения
- Обновляйте по мере появления нового контекста

**Ограничения:**
- Жёсткие ограничения на выбор реализации
- Технологический стек, сроки, бюджет, совместимость, зависимости
- Включайте "почему" — ограничения без обоснования подвергаются сомнению

**Ключевые решения:**
- Значимые выборы, влияющие на будущую работу
- Добавляйте решения по мере их принятия на протяжении проекта
- Отслеживайте результат, когда он известен:
  - ✓ Хорошо — решение оказалось верным
  - ⚠️ Пересмотреть — решение может потребовать пересмотра
  - — Ожидает — слишком рано оценивать

**Последнее обновление:**
- Всегда отмечайте, когда и почему документ был обновлён
- Формат: `после Фазы 2` или `после вехи v1.0`
- Инициирует проверку актуальности содержимого

</guidelines>

<evolution>

PROJECT.md развивается на протяжении жизненного цикла проекта.

**После каждого перехода фазы:**
1. Требования опровергнуты? → Перенести в За пределами с причиной
2. Требования подтверждены? → Перенести в Подтверждённые со ссылкой на фазу
3. Появились новые требования? → Добавить в Активные
4. Решения для записи? → Добавить в Ключевые решения
5. "Что это" всё ещё точно? → Обновить при расхождении

**После каждой вехи:**
1. Полный пересмотр всех секций
2. Проверка Основной ценности — всё ещё правильный приоритет?
3. Аудит За пределами — причины всё ещё актуальны?
4. Обновление Контекста с текущим состоянием (пользователи, обратная связь, метрики)

</evolution>

<brownfield>

Для существующих кодовых баз:

1. **Сначала картирование кодовой базы** через `/gsd:map-codebase`

2. **Вывод Подтверждённых требований** из существующего кода:
   - Что кодовая база реально делает?
   - Какие паттерны установлены?
   - Что явно работает и на что полагаются?

3. **Сбор Активных требований** от пользователя:
   - Представить предполагаемое текущее состояние
   - Спросить, что они хотят строить дальше

4. **Инициализация:**
   - Подтверждённые = выведенные из существующего кода
   - Активные = цели пользователя для этой работы
   - За пределами = указанные пользователем границы
   - Контекст = включает текущее состояние кодовой базы

</brownfield>

<state_reference>

STATE.md ссылается на PROJECT.md:

```markdown
## Ссылка на проект

См.: .planning/PROJECT.md (обновлён [дата])

**Основная ценность:** [Одна строка из секции Основная ценность]
**Текущий фокус:** [Название текущей фазы]
```

Это гарантирует, что Claude читает актуальный контекст PROJECT.md.

</state_reference>
