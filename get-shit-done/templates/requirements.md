# Шаблон требований

Шаблон для `.planning/REQUIREMENTS.md` — проверяемые требования, определяющие "готово".

<template>

```markdown
# Требования: [Название проекта]

**Определены:** [дата]
**Ключевая ценность:** [из PROJECT.md]

## Требования v1

Требования для начального релиза. Каждое соответствует фазам дорожной карты.

### Аутентификация

- [ ] **AUTH-01**: Пользователь может зарегистрироваться с email и паролем
- [ ] **AUTH-02**: Пользователь получает подтверждение email после регистрации
- [ ] **AUTH-03**: Пользователь может сбросить пароль через ссылку в email
- [ ] **AUTH-04**: Сессия пользователя сохраняется при обновлении браузера

### [Категория 2]

- [ ] **[КАТ]-01**: [Описание требования]
- [ ] **[КАТ]-02**: [Описание требования]
- [ ] **[КАТ]-03**: [Описание требования]

### [Категория 3]

- [ ] **[КАТ]-01**: [Описание требования]
- [ ] **[КАТ]-02**: [Описание требования]

## Требования v2

Отложены до будущего релиза. Отслеживаются, но не в текущей дорожной карте.

### [Категория]

- **[КАТ]-01**: [Описание требования]
- **[КАТ]-02**: [Описание требования]

## Вне области

Явно исключено. Задокументировано для предотвращения расширения объёма.

| Функция | Причина |
|---------|--------|
| [Функция] | [Почему исключена] |
| [Функция] | [Почему исключена] |

## Трассировка

Какие фазы покрывают какие требования. Обновляется при создании дорожной карты.

| Требование | Фаза | Статус |
|------------|------|--------|
| AUTH-01 | Фаза 1 | Ожидает |
| AUTH-02 | Фаза 1 | Ожидает |
| AUTH-03 | Фаза 1 | Ожидает |
| AUTH-04 | Фаза 1 | Ожидает |
| [REQ-ID] | Фаза [N] | Ожидает |

**Покрытие:**
- Требования v1: [X] всего
- Привязано к фазам: [Y]
- Не привязано: [Z] ⚠️

---
*Требования определены: [дата]*
*Последнее обновление: [дата] после [триггер]*
```

</template>

<guidelines>

**Формат требования:**
- ID: `[КАТЕГОРИЯ]-[НОМЕР]` (AUTH-01, CONTENT-02, SOCIAL-03)
- Описание: Ориентировано на пользователя, тестируемо, атомарно
- Чекбокс: Только для требований v1 (v2 ещё не являются действиями)

**Категории:**
- Выводятся из категорий FEATURES.md исследования
- Поддерживайте согласованность с доменными конвенциями
- Типичные: Аутентификация, Контент, Социальные, Уведомления, Модерация, Платежи, Администрирование

**v1 vs v2:**
- v1: Зафиксированный объём, будет в фазах дорожной карты
- v2: Признано, но отложено, не в текущей дорожной карте
- Перемещение v2 → v1 требует обновления дорожной карты

**Вне области:**
- Явные исключения с обоснованием
- Предотвращает "почему вы не включили X?" в будущем
- Анти-функции из исследования размещаются здесь с предупреждениями

**Трассировка:**
- Изначально пустая, заполняется при создании дорожной карты
- Каждое требование привязывается ровно к одной фазе
- Непривязанные требования = пробел в дорожной карте

**Значения статусов:**
- Ожидает: Не начато
- В работе: Фаза активна
- Выполнено: Требование верифицировано
- Заблокировано: Ожидание внешнего фактора

</guidelines>

<evolution>

**После завершения каждой фазы:**
1. Отметить покрытые требования как Выполнено
2. Обновить статус трассировки
3. Отметить требования, у которых изменился объём

**После обновлений дорожной карты:**
1. Убедиться, что все требования v1 по-прежнему привязаны
2. Добавить новые требования при расширении объёма
3. Переместить требования в v2/вне области при сокращении объёма

**Критерии завершения требования:**
- Требование считается "Выполненным" когда:
  - Функция реализована
  - Функция верифицирована (тесты проходят, ручная проверка выполнена)
  - Функция закоммичена

</evolution>

<example>

```markdown
# Требования: CommunityApp

**Определены:** 2025-01-14
**Ключевая ценность:** Пользователи могут делиться и обсуждать контент с людьми, разделяющими их интересы

## Требования v1

### Аутентификация

- [ ] **AUTH-01**: Пользователь может зарегистрироваться с email и паролем
- [ ] **AUTH-02**: Пользователь получает подтверждение email после регистрации
- [ ] **AUTH-03**: Пользователь может сбросить пароль через ссылку в email
- [ ] **AUTH-04**: Сессия пользователя сохраняется при обновлении браузера

### Профили

- [ ] **PROF-01**: Пользователь может создать профиль с отображаемым именем
- [ ] **PROF-02**: Пользователь может загрузить аватар
- [ ] **PROF-03**: Пользователь может написать био (макс. 500 символов)
- [ ] **PROF-04**: Пользователь может просматривать профили других пользователей

### Контент

- [ ] **CONT-01**: Пользователь может создать текстовый пост
- [ ] **CONT-02**: Пользователь может загрузить изображение к посту
- [ ] **CONT-03**: Пользователь может редактировать свои посты
- [ ] **CONT-04**: Пользователь может удалить свои посты
- [ ] **CONT-05**: Пользователь может просматривать ленту постов

### Социальное

- [ ] **SOCL-01**: Пользователь может подписаться на других пользователей
- [ ] **SOCL-02**: Пользователь может отписаться от пользователей
- [ ] **SOCL-03**: Пользователь может лайкать посты
- [ ] **SOCL-04**: Пользователь может комментировать посты
- [ ] **SOCL-05**: Пользователь может просматривать ленту активности (посты подписок)

## Требования v2

### Уведомления

- **NOTF-01**: Пользователь получает уведомления в приложении
- **NOTF-02**: Пользователь получает email при новых подписчиках
- **NOTF-03**: Пользователь получает email при комментариях к своим постам
- **NOTF-04**: Пользователь может настроить предпочтения уведомлений

### Модерация

- **MODR-01**: Пользователь может пожаловаться на контент
- **MODR-02**: Пользователь может заблокировать других пользователей
- **MODR-03**: Администратор может просматривать жалобы на контент
- **MODR-04**: Администратор может удалять контент
- **MODR-05**: Администратор может банить пользователей

## Вне области

| Функция | Причина |
|---------|--------|
| Чат в реальном времени | Высокая сложность, не является основой ценности сообщества |
| Видео-посты | Стоимость хранения/трафика, отложено до v2+ |
| OAuth логин | Email/пароль достаточно для v1 |
| Мобильное приложение | Сначала веб, мобильное позже |

## Трассировка

| Требование | Фаза | Статус |
|------------|------|--------|
| AUTH-01 | Фаза 1 | Ожидает |
| AUTH-02 | Фаза 1 | Ожидает |
| AUTH-03 | Фаза 1 | Ожидает |
| AUTH-04 | Фаза 1 | Ожидает |
| PROF-01 | Фаза 2 | Ожидает |
| PROF-02 | Фаза 2 | Ожидает |
| PROF-03 | Фаза 2 | Ожидает |
| PROF-04 | Фаза 2 | Ожидает |
| CONT-01 | Фаза 3 | Ожидает |
| CONT-02 | Фаза 3 | Ожидает |
| CONT-03 | Фаза 3 | Ожидает |
| CONT-04 | Фаза 3 | Ожидает |
| CONT-05 | Фаза 3 | Ожидает |
| SOCL-01 | Фаза 4 | Ожидает |
| SOCL-02 | Фаза 4 | Ожидает |
| SOCL-03 | Фаза 4 | Ожидает |
| SOCL-04 | Фаза 4 | Ожидает |
| SOCL-05 | Фаза 4 | Ожидает |

**Покрытие:**
- Требования v1: 18 всего
- Привязано к фазам: 18
- Не привязано: 0 ✓

---
*Требования определены: 2025-01-14*
*Последнее обновление: 2025-01-14 после начального определения*
```

</example>
